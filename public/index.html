<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astra</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css">
  </head>
  <body>
    <header>
      <img src="logo.svg" alt="logo" />
      <nav>
        <ul>
          <li><a href="#">Эксперты</a></li>
          <li><a href="#">Услуги</a></li>
          <li><a href="#">Контакты</a></li>
        </ul>
        <button class="cta-button">Получить разбор</button>
      </nav>
    </header>

    <div class="banner">
      <div class="content">
        <h1>Узнайте, что звезды готовят именно для вас!</h1>
        <p>
          Персональный астрологический разбор <br />и рекомендации от
          профессионала
        </p>
        <button class="main-button">Получить разбор</button>
      </div>
    </div>
    <img class="main-image" src="Group 5308.png" alt="woman" />

    <main>
      <section class="specialist">
        <p class="quote">
          “Астрология не предопределяет судьбу, но дает ключи к пониманию себя,
          своих возможностей и вызовов. Это не просто наука о планетах, это
          искусство видеть связь между небом и землей, космосом и душой”
        </p>
        <h2 class="name">Инна Марьева</h2>
        <p class="description">
          Профессиональный астролог с 10-летним опытом. Специализация: глубокий
          анализ натальных карт, прогнозирование и работа с кармическими
          задачами
        </p>
        <div class="badges">
          <img src="1.png" alt="Сертификат" />
          <img src="2.png" alt="Сертификат" />
          <img src="3.png" alt="Сертификат" />
          <img src="4.png" alt="Сертификат" />
        </div>
      </section>

      <section class="cards">
        <h2>Что вы узнаете из астрологического разбора?</h2>
        <div class="cards-container">
          <figure>
            <img
              class="card"
              src="q.png"
              alt="Точный анализ вашей натальной карты"
            />
            <figcaption>Точный анализ вашей натальной карты</figcaption>
          </figure>
          <figure>
            <img
              class="card"
              src="w.png"
              alt="Совместимость в любви и дружбе"
            />
            <figcaption>Совместимость в любви и дружбе</figcaption>
          </figure>
          <figure>
            <img
              class="card"
              src="e.png"
              alt="Прогноз на год для бизнеса и карьеры"
            />
            <figcaption>Прогноз на год для бизнеса и карьеры</figcaption>
          </figure>
          <figure>
            <img
              class="card"
              src="r.png"
              alt="Персональные рекомендации для улучшения жизни"
            />
            <figcaption>
              Персональные рекомендации для улучшения жизни
            </figcaption>
          </figure>
          <figure>
            <img class="card" src="t.png" alt="Основные черты личности" />
            <figcaption>Основные черты личности</figcaption>
          </figure>
          <figure>
            <img
              class="card"
              src="y.png"
              alt="Потенциал в разных областях жизни"
            />
            <figcaption>Потенциал в разных областях жизни</figcaption>
          </figure>
        </div>
      </section>

      <div class="slider-container">
        <div class="slider">
          <!-- Слайд 1 -->
          <div class="slide">
            <div
              class="slide-image"
              style="background-image: url('planet.png')"
            ></div>
            <div class="slide-content">
              <h2>Звездный код души</h2>
              <p>
                Расшифровка вашей натальной карты — уникального звездного кода,
                заложенного в момент вашего рождения. Этот разбор раскроет ваши
                истинные таланты, предназначение и путь к гармонии.
              </p>
              <ul>
                <li>Поймете свои сильные стороны и скрытые способности.</li>
                <li>
                  Узнаете, как реализовать свой потенциал в карьере и личной
                  жизни.
                </li>
                <li>
                  Получите рекомендации для достижения внутреннего баланса.
                </li>
              </ul>
              <button class="slide-btn">Получить разбор</button>
            </div>
          </div>

          <!-- Слайд 2 -->
          <div class="slide">
            <div
              class="slide-image"
              style="background-image: url('planet.png')"
            ></div>
            <div class="slide-content">
              <h2>Звездный код души</h2>
              <p>
                Расшифровка вашей натальной карты — уникального звездного кода,
                заложенного в момент вашего рождения. Этот разбор раскроет ваши
                истинные таланты, предназначение и путь к гармонии.
              </p>
              <ul>
                <li>Поймете свои сильные стороны и скрытые способности.</li>
                <li>
                  Узнаете, как реализовать свой потенциал в карьере и личной
                  жизни.
                </li>
                <li>
                  Получите рекомендации для достижения внутреннего баланса.
                </li>
              </ul>
              <button class="slide-btn">Получить разбор</button>
            </div>
          </div>

          <!-- Слайд 3 -->
          <div class="slide">
            <div
              class="slide-image"
              style="background-image: url('planet.png')"
            ></div>
            <div class="slide-content">
              <h2>Звездный код души</h2>
              <p>
                Расшифровка вашей натальной карты — уникального звездного кода,
                заложенного в момент вашего рождения. Этот разбор раскроет ваши
                истинные таланты, предназначение и путь к гармонии.
              </p>
              <ul>
                <li>Поймете свои сильные стороны и скрытые способности.</li>
                <li>
                  Узнаете, как реализовать свой потенциал в карьере и личной
                  жизни.
                </li>
                <li>
                  Получите рекомендации для достижения внутреннего баланса.
                </li>
              </ul>
              <button class="slide-btn">Получить разбор</button>
            </div>
          </div>

          <!-- Слайд 4 -->
          <div class="slide">
            <div
              class="slide-image"
              style="background-image: url('planet.png')"
            ></div>
            <div class="slide-content">
              <h2>Звездный код души</h2>
              <p>
                Расшифровка вашей натальной карты — уникального звездного кода,
                заложенного в момент вашего рождения. Этот разбор раскроет ваши
                истинные таланты, предназначение и путь к гармонии.
              </p>
              <ul>
                <li>Поймете свои сильные стороны и скрытые способности.</li>
                <li>
                  Узнаете, как реализовать свой потенциал в карьере и личной
                  жизни.
                </li>
                <li>
                  Получите рекомендации для достижения внутреннего баланса.
                </li>
              </ul>
              <button class="slide-btn">Получить разбор</button>
            </div>
          </div>

          <!-- Слайд 5 -->
          <div class="slide">
            <div
              class="slide-image"
              style="background-image: url('planet.png')"
            ></div>
            <div class="slide-content">
              <h2>Звездный код души</h2>
              <p>
                Расшифровка вашей натальной карты — уникального звездного кода,
                заложенного в момент вашего рождения. Этот разбор раскроет ваши
                истинные таланты, предназначение и путь к гармонии.
              </p>
              <ul>
                <li>Поймете свои сильные стороны и скрытые способности.</li>
                <li>
                  Узнаете, как реализовать свой потенциал в карьере и личной
                  жизни.
                </li>
                <li>
                  Получите рекомендации для достижения внутреннего баланса.
                </li>
              </ul>
              <button class="slide-btn">Получить разбор</button>
            </div>
          </div>
        </div>

        <!-- Стрелки навигации -->
        <button class="slider-arrow prev"></button>
        <button class="slider-arrow next"></button>

        <!-- Навигация точками (превью изображений) -->
        <div class="slider-nav">
          <div
            class="slider-dot active"
            style="background-image: url('Group\ 551\ 2.png')"
          ></div>
          <div
            class="slider-dot"
            style="background-image: url('Group\ 552\ 1.png')"
          ></div>
          <div
            class="slider-dot"
            style="background-image: url('Group\ 553.png')"
          ></div>
          <div
            class="slider-dot"
            style="background-image: url('Group\ 5252\ 1.png')"
          ></div>
          <div
            class="slider-dot"
            style="background-image: url('Group\ 5309.png')"
          ></div>
        </div>
      </div>

      <section class="how">
        <h2>Как это работает</h2>
        <div class="howitworks">
          <figure>
            <div class="image-container">
              <img
                class="howit"
                src="Group 5290.svg"
                alt="1 Выберите услугу или эксперта"
              />
            </div>
            <figcaption>1 Выберите услугу или эксперта</figcaption>
          </figure>
          <figure>
            <div class="image-container">
              <img
                class="howit"
                src="Group 5291.svg"
                alt="2 Заполните короткую форму и выберите способ связи"
              />
            </div>
            <figcaption>
              2 Заполните короткую форму и выберите способ связи
            </figcaption>
          </figure>
          <figure>
            <div class="image-container">
              <img
                class="howit"
                src="Group 5306.svg"
                alt="3 Мы свяжемся с вами в течение 15 минут"
              />
            </div>
            <figcaption>3 Мы свяжемся с вами в течение 15 минут</figcaption>
          </figure>
        </div>
        <button class="how-button">Получить разбор</button>
      </section>

      <section class="section-form">
        <h2 class="form-header">Готовы узнать, что звезды готовят для вас?</h2>
        <div class="form-container">
          <div class="form-left">
            <h2>
              Запишитесь на консультацию прямо сейчас и получите персональный
              астрологический разбор
            </h2>
            <h3>Специалисты</h3>

            <div class="specialists-grid">
              <div class="specialist-option">
                <input
                  type="radio"
                  id="specialist1"
                  name="specialist"
                  value="1"
                />
                <label for="specialist1">
                  <img
                    src="https://randomuser.me/api/portraits/women/43.jpg"
                    alt="Петрова Анастасия"
                  />
                </label>
              </div>
              <div class="specialist-option">
                <input
                  type="radio"
                  id="specialist2"
                  name="specialist"
                  value="2"
                />
                <label for="specialist2">
                  <img
                    src="https://randomuser.me/api/portraits/women/65.jpg"
                    alt="Колышева Полина"
                  />
                </label>
              </div>
              <div class="specialist-option">
                <input
                  type="radio"
                  id="specialist3"
                  name="specialist"
                  value="3"
                />
                <label for="specialist3">
                  <img
                    src="https://randomuser.me/api/portraits/women/32.jpg"
                    alt="Романюк Марина"
                  />
                </label>
              </div>
              <div class="specialist-option">
                <input
                  type="radio"
                  id="specialist4"
                  name="specialist"
                  value="4"
                />
                <label for="specialist4">
                  <img
                    src="https://randomuser.me/api/portraits/women/76.jpg"
                    alt="Вещунова Екатерина"
                  />
                </label>
              </div>
            </div>

            <div class="specialist-info">
              <h4 class="specialist-name">Выберите специалиста</h4>
              <p class="specialist-description">
                Нажмите на фото специалиста для получения информации
              </p>
            </div>

            <div class="services-list">
              <h3>Услуги</h3>
              <div class="service-option">
                <input
                  type="checkbox"
                  id="service1"
                  name="services[]"
                  value="1"
                />
                <label for="service1">Звездный код души</label>
              </div>
              <div class="service-option">
                <input
                  type="checkbox"
                  id="service2"
                  name="services[]"
                  value="2"
                />
                <label for="service2"
                  >Гармония созвездий: совместимость в любви</label
                >
              </div>
              <div class="service-option">
                <input
                  type="checkbox"
                  id="service3"
                  name="services[]"
                  value="3"
                />
                <label for="service3">Галактический бизнес-прогноз</label>
              </div>
              <div class="service-option">
                <input
                  type="checkbox"
                  id="service4"
                  name="services[]"
                  value="4"
                />
                <label for="service4">Лунный свет: путь к себе</label>
              </div>
              <div class="service-option">
                <input
                  type="checkbox"
                  id="service5"
                  name="services[]"
                  value="5"
                />
                <label for="service5">Планетарный щит: защита и энергия</label>
              </div>
            </div>
          </div>

          <div class="form-right">
            <h3>Ваши контакты</h3>

            <div class="name-fields">
              <input
                type="text"
                id="first_name"
                name="first_name"
                placeholder="Имя"
                required
              />
              <input
                type="text"
                id="last_name"
                name="last_name"
                placeholder="Фамилия"
                required
              />
            </div>

            <input
              type="email"
              id="email"
              name="email"
              placeholder="E-mail"
              required
            />

            <h3>Дата рождения</h3>
            <input
              type="datetime-local"
              id="birth_date"
              name="birth_date"
              required
            />

            <h3>Место рождения</h3>
            <input
              type="text"
              id="location"
              name="location"
              placeholder="Город, страна"
              required
            />

            <div class="agree-section">
              <input type="checkbox" id="agree" name="agree" required />
              <label for="agree"
                >Я даю согласие на обработку персональных данных и соглашаюсь с офертой.
              </label>
            </div>

            <button type="submit" class="submit-btn">Получить разбор</button>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <div class="footer-container">
        <!-- Колонка 1: Логотип -->
        <div class="footer-column">
          <img src="logo2.svg" alt="logo" class="footer-logo" />
        </div>

        <!-- Колонка 2: Контакты -->
        <div class="footer-column contacts">
          <div>
            <p class="footer-h">Автоинформатор</p>
            <p class="contact-info">+78121112233</p>
          </div>
          <div>
            <p class="footer-h">По общим вопросам</p>
            <p class="contact-info">info@astra.ru</p>
          </div>
          <div>
            <p class="footer-h">Мы в социальных сетях</p>
            <div class="social-icons">
              <a href="#" aria-label="ВКонтакте"><i class="fab fa-vk"></i></a>
              <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
              <a href="#" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
            </div>
          </div>
        </div>

        <!-- Колонка 3: Ссылки -->
        <div class="footer-column footer-href">
          <a href="#">Антикоррупционная политика</a>
          <a href="#">Образовательная лицензия</a>
          <a href="#">Оплата</a>
          <a href="#">Политика конфиденциальности</a>
          <a href="#">Пользовательское соглашение</a>
          <a href="#">Публичная оферта</a>
          <a href="#">Руководство пользователя</a>
          <a href="#">Согласие на обработку персональных данных</a>
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const slider = document.querySelector(".slider");
        const slides = document.querySelectorAll(".slide");
        const dots = document.querySelectorAll(".slider-dot");
        const prevBtn = document.querySelector(".prev");
        const nextBtn = document.querySelector(".next");
        let currentIndex = 0;
        const slideCount = slides.length;

        function updateSlider() {
          slider.style.transform = `translateX(-${currentIndex * 100}%)`;

          dots.forEach((dot, index) => {
            dot.classList.toggle("active", index === currentIndex);
          });
        }

        function nextSlide() {
          currentIndex = (currentIndex + 1) % slideCount;
          updateSlider();
        }

        function prevSlide() {
          currentIndex = (currentIndex - 1 + slideCount) % slideCount;
          updateSlider();
        }

        dots.forEach((dot, index) => {
          dot.addEventListener("click", () => {
            currentIndex = index;
            updateSlider();
          });
        });

        nextBtn.addEventListener("click", nextSlide);
        prevBtn.addEventListener("click", prevSlide);

        // Удалён setInterval для автопереключения
      });

      document.addEventListener("DOMContentLoaded", function () {
    const specialists = {
      1: {
        name: "Петрова Анастасия",
        description: "Профессиональный астролог с 8 летним опытом. Специализация: кармическая астрология и анализ прошлых жизней."
      },
      2: {
        name: "Колышева Полина",
        description: "Профессиональный астролог с 10 летним опытом. Специализация: глубокий анализ натальных карт, прогнозирование и работа с кармическими задачами."
      },
      3: {
        name: "Романюк Марина",
        description: "Астролог с 7 летним опытом. Специализация: медицинская астрология и вопросы здоровья."
      },
      4: {
        name: "Вещунова Екатерина",
        description: "Астролог с 12 летним опытом. Специализация: бизнес-астрология и финансовые прогнозы."
      }
    };

    const nameElement = document.querySelector(".specialist-name");
    const descElement = document.querySelector(".specialist-description");
    const form = document.querySelector(".form-container");

    // Обработчик выбора специалиста
    document.querySelectorAll('input[name="specialist"]').forEach((input) => {
      input.addEventListener("change", function() {
        if (this.checked) {
          const specialist = specialists[this.value];
          nameElement.textContent = specialist.name;
          descElement.textContent = specialist.description;
        }
      });
    });

    // Обработчик отправки формы
    form.addEventListener("submit", async function(e) {
      e.preventDefault();

      // Валидация формы
      const selectedSpecialist = document.querySelector('input[name="specialist"]:checked');
      const selectedServices = document.querySelectorAll('input[name="services[]"]:checked');
      const agreeCheckbox = document.querySelector('input[name="agree"]');

      if (!selectedSpecialist) {
        alert("Пожалуйста, выберите специалиста");
        return;
      }

      if (selectedServices.length === 0) {
        alert("Пожалуйста, выберите хотя бы одну услугу");
        return;
      }

      if (!agreeCheckbox.checked) {
        alert("Пожалуйста, дайте согласие на обработку персональных данных");
        return;
      }

      // Сбор данных формы
      const formData = {
        first_name: document.querySelector('input[name="first_name"]').value,
        last_name: document.querySelector('input[name="last_name"]').value,
        email: document.querySelector('input[name="email"]').value,
        birth_date: document.querySelector('input[name="birth_date"]').value,
        location: document.querySelector('input[name="location"]').value,
        services: Array.from(selectedServices).map(s => s.value),
        specialist: selectedSpecialist.value
      };

      try {
        // Отправка данных на сервер
        const response = await fetch('/api/submit-astrology', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (!response.ok) {
          throw new Error(result.message || "Ошибка при отправке формы");
        }

        // Успешная отправка
        alert(result.message || "Форма успешно отправлена! Мы свяжемся с вами в ближайшее время.");
        form.reset();
        nameElement.textContent = "Выберите специалиста";
        descElement.textContent = "Нажмите на фото специалиста для получения информации";
        
      } catch (error) {
        console.error('Ошибка:', error);
        alert(error.message || "Произошла ошибка при отправке формы. Пожалуйста, попробуйте еще раз.");
      }
    });
  });
    </script>
  </body>
</html>
